(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/search"],{4083:function(t,e,n){},5239:function(t,e,n){"use strict";n.r(e);var i=n("c8e6"),a=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},"5b7d":function(t,e,n){"use strict";n.r(e);var i=n("6548"),a=n("5239");for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("c8c8");var o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"20a2cfac",null,!1,i["a"],void 0);e["default"]=s.exports},6548:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={"u-Form":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--form/u--form")]).then(n.bind(null,"7987"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"5a64"))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,"1e80"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"8bf9"))},uDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(n.bind(null,"13b8"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"4c6d"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$t("工单号")),i=t.$t("please.input"),a=t.$t("机器编号"),u=t.$t("please.input"),o=t.$t("模具编号"),s=t.$t("please.input"),l=t.$t("产品编号"),r=t.$t("please.input"),m=t.$t("是否完成"),h=t.$t("please.select"),c=t.$t("取消"),f=t.$t("确认"),d=t.$t("是否超量完成"),p=t.$t("please.select"),v=t.$t("取消"),S=t.$t("确认"),T=t.$t("派工状态"),g=t.$t("please.select"),$=t.$t("取消"),w=t.$t("确认"),b=t.$t("计划开始时间"),C=t.$t("please.select"),E=t.$t("取消"),F=t.$t("确认"),O=t.$t("计划结束时间"),x=t.$t("please.select"),_=t.$t("取消"),D=t.$t("确认"),I=t.$t("完成时间"),P=t.$t("please.select"),k=t.$t("取消"),y=t.$t("确认"),H=t.$t("换单时间"),N=t.$t("please.select"),M=t.$t("取消"),U=t.$t("确认"),V=t.$t("screening");t._isMounted||(t.e0=function(e){t.finishShow=!0},t.e1=function(e){t.finishShow=!1},t.e2=function(e){t.overFinishShow=!0},t.e3=function(e){t.overFinishShow=!1},t.e4=function(e){t.statusShow=!0},t.e5=function(e){t.statusShow=!1},t.e6=function(e){t.planStartTimeShow=!0},t.e7=function(e){t.planStartTimeShow=!1},t.e8=function(e){t.planEndTimeShow=!0},t.e9=function(e){t.planEndTimeShow=!1},t.e10=function(e){t.finishTimeShow=!0},t.e11=function(e){t.finishTimeShow=!1},t.e12=function(e){t.changeOrderTimeShow=!0},t.e13=function(e){t.changeOrderTimeShow=!1}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:i,m2:a,m3:u,m4:o,m5:s,m6:l,m7:r,m8:m,m9:h,m10:c,m11:f,m12:d,m13:p,m14:v,m15:S,m16:T,m17:g,m18:$,m19:w,m20:b,m21:C,m22:E,m23:F,m24:O,m25:x,m26:_,m27:D,m28:I,m29:P,m30:k,m31:y,m32:H,m33:N,m34:M,m35:U,m36:V}})},u=[]},b5f6:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("78aa");i(n("66fd"));var a=i(n("5b7d"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c8c8:function(t,e,n){"use strict";var i=n("4083"),a=n.n(i);a.a},c8e6:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9523")),u=i(n("2e56")),o={filters:{formatDate:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=new Date(t);return formatDate(e,"yyyy MM dd hh:mm:ss")}))},onLoad:function(){this.getDispatchOrderStatus()},onShow:function(){t.setNavigationBarTitle({title:this.$t("order.monitoring")})},data:function(){var t;return t={form:{orderNo:null,machineNo:null,mouldNo:null,itemNo:null,status:null,dispatchStatus:null,planStartTime:null,planEndTime:null,actualEndTime:null,actualStartTime:null,finishStatus:null,overFinishStatus:null,complete:null,overComplete:null},rules:{},finishShow:!1,excessiveFinishShow:!1,statusShow:!1},(0,a.default)(t,"finishShow",!1),(0,a.default)(t,"overFinishShow",!1),(0,a.default)(t,"planStartTimeShow",!1),(0,a.default)(t,"planEndTimeShow",!1),(0,a.default)(t,"finishTimeShow",!1),(0,a.default)(t,"changeOrderTimeShow",!1),(0,a.default)(t,"selectFinishIndex",0),(0,a.default)(t,"selectExcessiveIndex",0),(0,a.default)(t,"selectStatusIndex",0),(0,a.default)(t,"selectFinishIndex",0),(0,a.default)(t,"selectOverFinishIndex",0),(0,a.default)(t,"planStartTimeValue",null),(0,a.default)(t,"planEndTimeValue",null),(0,a.default)(t,"startTimeValue",null),(0,a.default)(t,"endTimeValue",null),(0,a.default)(t,"valueDate",Number(new Date)),(0,a.default)(t,"finishs",[["是","否"]]),(0,a.default)(t,"status",[]),(0,a.default)(t,"finishStatus",null),(0,a.default)(t,"overFinishStatus",null),t},methods:{getDispatchOrderStatus:function(){var e=this;t.$u.http.get(u.default.dispatchOrderStatus).then((function(t){if(console.log("result",t),200===t.code){var n=[];t.data.forEach((function(t){n.push(e.$t(t.name))})),n.length>0&&(e.status=[],e.status.push(n))}})).catch((function(t){console.log("er",t)}))},submit:function(){this.$refs.uform.validate((function(t){t?console.log("验证通过"):console.log("验证失败")})),t.$emit("returnOrderData",this.form),t.navigateBack({delta:1})},statusChangeHandler:function(t){this.selectStatusIndex=t.index},statusConfirm:function(){this.statusShow=!1,this.form.dispatchStatus=this.selectStatusIndex,this.form.status=this.status[0][this.selectStatusIndex]},planStartChangeHandler:function(t){console.log("选择的时间=",t.value),this.planStartTime=t.value},planStartTimeConfirm:function(){this.planStartTimeShow=!1,this.form.planStartTime=this.timestampToTime(this.planStartTime?this.planStartTime:this.valueDate),this.handleChangeUpdateTime(!0)},planEndChangeHandler:function(t){console.log("选择的时间=",t.value),this.planEndTime=t.value},planEndTimeConfirm:function(){this.planEndTimeShow=!1,this.form.planEndTime=this.timestampToTime(this.planEndTime?this.planEndTime:this.valueDate),this.handleChangeUpdateTime(!0)},endTimeChangeHandler:function(t){console.log("选择的时间=",t.value),this.finishTime=t.value},endTimeConfirm:function(){this.finishTimeShow=!1,this.form.actualEndTime=this.timestampToTime(this.finishTime?this.finishTime:this.valueDate),this.handleChangeUpdateTime(!1)},changeOrderChangeHandler:function(t){console.log("选择的时间=",t.value),this.changeOrderTime=t.value},changeOrderConfirm:function(){this.changeOrderTimeShow=!1,this.form.actualStartTime=this.timestampToTime(this.changeOrderTime?this.changeOrderTime:this.valueDate),this.handleChangeUpdateTime(!1)},finishConfirm:function(){this.finishShow=!1,this.form.finishStatus=this.finishs[0][this.selectFinishIndex],this.form.complete="是"===this.form.finishStatus?"0":"1"},finishChangeHandler:function(t){this.selectFinishIndex=t.index},overFinishConfirm:function(){this.overFinishShow=!1,this.form.overFinishStatus=this.finishs[0][this.selectOverFinishIndex],this.form.overComplete="是"===this.form.overFinishStatus?"0":"1"},overFinshChangeHandler:function(t){this.selectOverFinishIndex=t.index},timestampToTime:function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var a=e.getDate();a=a<10?"0"+a:a;var u=e.getHours();u=u<10?"0"+u:u;var o=e.getMinutes();o=o<10?"0"+o:o;var s=e.getSeconds();return s=s<10?"0"+s:s,n+"-"+i+"-"+a+" "+u+":"+o+":"+s},formatter:function(t,e){return"year"===t?"".concat(e,"年"):"month"===t?"".concat(e,"月"):"day"===t?"".concat(e,"日"):"hour"===t?"".concat(e,"时"):"minute"===t?"".concat(e,"分"):e},handleChangeUpdateTime:function(e){var n=1e3*new Date(e?this.form.planStartTime:this.form.actualStartTime)/1e3,i=1e3*new Date(e?this.form.planEndTime:this.form.actualEndTime)/1e3;0!==n&&0!==i&&n>i&&(e?(this.form.planEndTime=this.form.planStartTime,t.$u.toast("计划结束时间小于计划开始时间！")):(this.form.actualEndTime=this.form.actualStartTime,t.$u.toast("换单时间小于完成时间！")))}}};e.default=o}).call(this,n("543d")["default"])}},[["b5f6","common/runtime","common/vendor"]]]);