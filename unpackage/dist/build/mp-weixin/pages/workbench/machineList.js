(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/workbench/machineList"],{4056:function(t,e,n){"use strict";n.r(e);var i=n("8a6a"),s=n("4bbc");for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("a651");var u=n("f0c5"),r=Object(u["a"])(s["default"],i["b"],i["c"],!1,null,"3e352490",null,!1,i["a"],void 0);e["default"]=r.exports},"43ee":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n("05a2")),a=i(n("b189")),u=i(n("0e8d")),r={mixins:[s.default],components:{statusHeader:function(){Promise.all([n.e("common/vendor"),n.e("components/status-header/status-header")]).then(function(){return resolve(n("bff9"))}.bind(null,n)).catch(n.oe)}},data:function(){return{apiUrl:a.default.list,method:"get",query:{},queryParams:{wsCode:null,machineState:null,machineNo:null},stateList:[],machineStatus:[],stateClass:["run","stop","warning","danger"],dataList:[],searchList:[],isSearch:!1,scrollHeight:44}},onLoad:function(){var e=this;t.$on("returnMachineData",(function(t){console.log("details发出的值===>",t),t&&(e.isGet=!0,e.isSearch=!0,e.refreshUI(t))})),console.log("uni.$u.sys().statusBarHeight",t.$u.sys()),this.scrollHeight=t.$u.sys().statusBarHeight+44},onUnload:function(){t.$off("returnMachineData")},methods:{afterGetList:function(){var t=this;this.isGet&&this.list.length>0&&(this.isSearch?(this.searchList=null!=this.query.machineState?this.list.filter((function(e){return e.status===t.query.machineState})):this.list.slice(),this.dataList=this.searchList.slice()):this.dataList=this.list.slice(),this.$refs["statusHeader"].handleStateList(this.dataList))},getColor:function(t){return u.default.getStatusColor(t)},getText:function(t){return u.default.getStatusText(t)},statusClick:function(t){this.isSearch?this.dataList=100==t?this.searchList.slice():this.searchList.filter((function(e){return e.status===t})):this.dataList=100==t?this.list.slice():this.list.filter((function(e){return e.status===t}))},refreshUI:function(t){this.query=t,this.pager.pageNum=1,this.getList()},itemClick:function(e){var n;(null===(n=this.$store.state.machine)||void 0===n?void 0:n.id)!==e.id&&this.$store.dispatch("setCurrentDevice",e),t.navigateTo({url:"/pages/workbench/dispatchList?machineNo="+e.machineNo})}}};e.default=r}).call(this,n("543d")["default"])},"4bbc":function(t,e,n){"use strict";n.r(e);var i=n("43ee"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},6366:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("78aa");i(n("66fd"));var s=i(n("4056"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},8402:function(t,e,n){},"8a6a":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={chRightHeader:function(){return n.e("components/ch-right-header/ch-right-header").then(n.bind(null,"d13b"))},mescrollUni:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"6eab"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"df62"))},uLoadingIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(n.bind(null,"5e6d"))}},s=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$t("机器状态")),i=t.list.length,s=t.isGet?null:t.list.length,a=!t.isGet&&s>0?t.__map(t.dataList,(function(e,n){var i=t.__get_orig(e),s=t.getColor(e.status?e.status:0),a=t.getColor(e.status?e.status:0),u=t.getText(e.status?e.status:0),r=t.$t("工单号"),o=t.$t("产品名称"),c=t.$t("良品数");return{$orig:i,m1:s,m2:a,m3:u,m4:r,m5:o,m6:c}})):null,u=t.isGet||s>0?null:t.$t("数据为空");t.$mp.data=Object.assign({},{$root:{m0:n,g0:i,g1:s,l0:a,m7:u}})},a=[]},a651:function(t,e,n){"use strict";var i=n("8402"),s=n.n(i);s.a}},[["6366","common/runtime","common/vendor"]]]);