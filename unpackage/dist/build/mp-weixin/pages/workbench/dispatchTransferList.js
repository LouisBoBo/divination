(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/workbench/dispatchTransferList"],{"1d20":function(t,e,n){"use strict";n.r(e);var i=n("36c6"),a=n("6859");for(var c in a)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(c);n("80ba");var o=n("f0c5"),r=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"ad032486",null,!1,i["a"],void 0);e["default"]=r.exports},2115:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("78aa");i(n("66fd"));var a=i(n("1d20"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"36c6":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return i}));var i={chTitle:function(){return Promise.all([n.e("common/vendor"),n.e("components/ch-title/ch-title")]).then(n.bind(null,"f9b2"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"df62"))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,"1e80"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"4c6d"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.deviceList.length),i=n>0?t.$t("机器编号"):null,a=n>0?t.$t("吨位"):null,c=n>0?null:t.$t("没有机器可调派"),o=t.$t("机台"),r=t.$t("吨位"),u=t.$t("保存");t.$mp.data=Object.assign({},{$root:{g0:n,m0:i,m1:a,m2:c,m3:o,m4:r,m5:u}})},c=[]},6859:function(t,e,n){"use strict";n.r(e);var i=n("fb3a"),a=n.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);e["default"]=a.a},"80ba":function(t,e,n){"use strict";var i=n("a31c"),a=n.n(i);a.a},a31c:function(t,e,n){},fb3a:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9523")),c=i(n("dcfe")),o=i(n("1cdb"));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var u={data:function(){return{deviceList:[],detailData:{},deviceSelected:null,deviceLoading:!1,saveLoading:!1,form:{destMachineNo:"",tonnage:0}}},onLoad:function(t){this.detailData=JSON.parse(t.detail),this.detailData.item.mouldNo&&this.getDeviceList(this.detailData.item.mouldNo)},methods:{getDeviceList:function(t){var e=this;this.deviceLoading=!0,this.$http.get("".concat(c.default.getDevice).concat(t)).then((function(t){e.deviceList=t.data})).finally((function(){e.deviceLoading=!1}))},setDevice:function(t){this.deviceSelected=t,this.form.destMachineNo=this.deviceList[this.deviceSelected].machineNo,this.form.tonnage=this.deviceList[this.deviceSelected].tonnage},saveAllot:function(){var e=this;if(null!=this.deviceSelected){var n=this.$ch.deepClone(this.detailData.item);n["params"]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.form),n["params"]["id"]=n.id,delete n.id,n["cardType"]=this.detailData.id,n["startTime"]=(0,o.default)(new Date).format("YYYY-MM-DD HH:mm:ss"),n["cardTypeTag"]=this.detailData.tag,this.saveLoading=!0,this.$http.post(this.$api.base.startEvent,n).then((function(n){e.$ch.toast("".concat(e.$t("调拨成功"))),t.$emit("returnTransfer","success"),e.$ch.sleep(1e3).then((function(){e.$nav.back()}))})).finally((function(){e.saveLoading=!1}))}else this.$ch.toast("".concat(this.$t("请点选工单和机器")))}}};e.default=u}).call(this,n("543d")["default"])}},[["2115","common/runtime","common/vendor"]]]);